import{L as C}from"./Main-DLGCh-WR.js";import{h as x,m as L,a as h,b as u,u as S,c as A,_ as F,r as _,i as j,j as o,o as g,e,k as l,d as b,l as U,F as M,n as y,t as c,g as m}from"./index-C_WlWYAj.js";const I={components:{Layout:C},data(){return{page:{title:"",isShowImageLogoHeader:!0},state:{},meetingsList:[]}},computed:{...x(S,{currentUser:"currentUser",currentUserFullname:"currentUserFullname",roleUser:"roleUser"})},mounted(){this.getMeetings()},methods:{...L(A,{loading:"loading"}),async getMeetings(){let s={method:"get",maxBodyLength:1/0,url:"/meeting/all",headers:{"Content-Type":"application/json"},data:{}};await h.request(s).then(async t=>{t&&(this.meetingsList=await t.data.meetings)}).catch(t=>{console.log(t),u.dialogbox("danger",t.response.data.message)})},deleteMeeting(s){let t={method:"delete",maxBodyLength:1/0,url:`/meeting/delete/${s}`,headers:{"Content-Type":"application/json"},data:{}};h.request(t).then(async a=>{a&&(u.toastbox("success","جلسه حذف شود."),await this.getMeetings())}).catch(a=>{console.log(a),u.dialogbox("danger",a.response.data.message)})},enterMeeting(s){const t=`http://94.182.215.117:3010/join/${s}?name=${this.currentUserFullname}&username=${this.currentUser}`;let a={method:"get",maxBodyLength:1/0,url:t,headers:{"Content-Type":"application/json"},data:{}};h.request(a).then(async i=>{i&&(window.location.href=t)}).catch(i=>{console.log(i),u.dialogbox("danger",i.response.data.message)})}}},p="/assets/d1-Cgpce3ka.jpg",B={class:"d-none section full mt-3 mb-3"},P=e("div",{class:"card"},[e("img",{src:p,class:"card-img-top",alt:"image"}),e("div",{class:"card-body pt-2"},[e("h4",{class:"mb-0"},"Progressive web app ready")])],-1),D=e("div",{class:"card"},[e("img",{src:p,class:"card-img-top",alt:"image"}),e("div",{class:"card-body pt-2"},[e("h4",{class:"mb-0"},"Progressive web app ready")])],-1),H=e("div",{class:"card"},[e("img",{src:p,class:"card-img-top",alt:"image"}),e("div",{class:"card-body pt-2"},[e("h4",{class:"mb-0"},"Progressive web app ready")])],-1),N=e("div",{class:"card"},[e("img",{src:p,class:"card-img-top",alt:"image"}),e("div",{class:"card-body pt-2"},[e("h4",{class:"mb-0"},"Progressive web app ready")])],-1),T=e("div",{class:"section mt-3 mb-3"},[e("div",{class:"card"},[e("div",{class:"card-body d-flex justify-content-between align-items-end"},[e("div",null,[e("h6",{class:"card-subtitle"},"دیدار"),e("h5",{class:"card-title mb-0 d-flex align-items-center justify-content-between"}," حالت تاریک ")]),e("div",{class:"form-check form-switch"},[e("input",{class:"form-check-input dark-mode-switch",type:"checkbox",id:"darkmodecontent"}),e("label",{class:"form-check-label",for:"darkmodecontent"})])])])],-1),V={class:"section mt-3 mb-3"},$={class:"card"},q={class:"card-body d-flex justify-content-between align-items-end"},E=e("h6",{class:"card-subtitle"},"جلسه",-1),G={class:"card-title mb-0 d-flex align-items-center justify-content-between"},z={class:"text"},J=e("br",null,null,-1),K=e("br",null,null,-1),O=e("br",null,null,-1),Q={class:"wide-block pt-2 pb-2"},R=["onClick"],W=["onClick"];function X(s,t,a,i,r,f){const d=_("SplideSlide"),v=_("Splide"),w=_("Layout");return g(),j(w,{title:r.page.title,isShowImageLogoHeader:r.page.isShowImageLogoHeader},{default:o(()=>[e("div",B,[l(v,{options:{rewind:!0,type:"loop",perPage:4,arrows:!1,pagination:!1,breakpoints:{768:{perPage:2},991:{perPage:3}}},"aria-label":"My Favorite Images"},{default:o(()=>[l(d,null,{default:o(()=>[P]),_:1}),l(d,null,{default:o(()=>[D]),_:1}),l(d,null,{default:o(()=>[H]),_:1}),l(d,null,{default:o(()=>[N]),_:1})]),_:1})]),T,r.meetingsList?(g(!0),b(M,{key:0},U(r.meetingsList,(n,Y)=>(g(),b("div",V,[e("div",$,[e("div",q,[e("div",null,[E,e("h5",G,c(n.name),1),e("p",z,[e("span",null,[m("دعوت کننده: "),e("b",null,c(n.presenter),1)]),J,e("span",null,[m("تاریخ: "),e("b",null,c(n.date),1)]),K,e("span",null,[m("ساعت: "),e("b",null,c(n.time),1)]),O,e("span",null,[m("توضیحات: "),e("b",null,c(n.description),1)])])])]),e("div",Q,[e("button",{class:"btn btn-block btn-primary me-1 mb-1 shadowed",onClick:k=>f.enterMeeting(n._id)},"ورود به جلسه",8,R),s.roleUser=="admin"||s.roleUser=="supervisor"?(g(),b("button",{key:0,type:"button",class:"btn btn-danger btn-block",onClick:k=>f.deleteMeeting(n._id)},"حذف جلسه",8,W)):y("",!0)])])]))),256)):y("",!0)]),_:1},8,["title","isShowImageLogoHeader"])}const te=F(I,[["render",X]]);export{te as default};
